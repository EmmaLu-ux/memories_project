{"ast":null,"code":"import _toConsumableArray from\"/Users/emmalu/Documents/fronted/workspace/reactProjects/memories_project/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/emmalu/Documents/fronted/workspace/reactProjects/memories_project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{CREATE,UPDATE,FETCH_ALL,DELETE,FETCH_BY_SEARCH,START_LOADING,END_LOADING,FETCH_POST,COMMENT}from'../constants/actionTypes';export default(function(){var _action$playload,_action$playload2,_action$playload3;var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{isLoading:true,posts:[]};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case START_LOADING:return _objectSpread(_objectSpread({},state),{},{isLoading:true});case END_LOADING:return _objectSpread(_objectSpread({},state),{},{isLoading:false});case FETCH_ALL:return _objectSpread(_objectSpread({},state),{},{posts:action===null||action===void 0?void 0:(_action$playload=action.playload)===null||_action$playload===void 0?void 0:_action$playload.data,currentPage:action===null||action===void 0?void 0:(_action$playload2=action.playload)===null||_action$playload2===void 0?void 0:_action$playload2.currentPage,numberOfPages:action===null||action===void 0?void 0:(_action$playload3=action.playload)===null||_action$playload3===void 0?void 0:_action$playload3.numberOfPages});case FETCH_POST:return _objectSpread(_objectSpread({},state),{},{post:action===null||action===void 0?void 0:action.playload});case FETCH_BY_SEARCH:return _objectSpread(_objectSpread({},state),{},{posts:action.playload});// return action.playload\ncase CREATE:return _objectSpread(_objectSpread({},state),{},{posts:[].concat(_toConsumableArray(state.posts),[action.playload])});case UPDATE:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){var _action$playload4;return post._id===(action===null||action===void 0?void 0:(_action$playload4=action.playload)===null||_action$playload4===void 0?void 0:_action$playload4._id)?action===null||action===void 0?void 0:action.playload:post;})});case COMMENT:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){if(post._id===action.playload._id){return action.playload;}return post;})});case DELETE:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(function(post){return post._id!==action.playload;})});default:return state;}});","map":{"version":3,"names":["CREATE","UPDATE","FETCH_ALL","DELETE","FETCH_BY_SEARCH","START_LOADING","END_LOADING","FETCH_POST","COMMENT","state","isLoading","posts","action","type","playload","data","currentPage","numberOfPages","post","map","_id","filter"],"sources":["/Users/emmalu/Documents/fronted/workspace/reactProjects/memories_project/client/src/reducers/posts.js"],"sourcesContent":["import { CREATE, UPDATE, FETCH_ALL, DELETE, FETCH_BY_SEARCH, START_LOADING, END_LOADING, FETCH_POST, COMMENT } from '../constants/actionTypes'\n\nexport default (state = { isLoading: true, posts: [] }, action) => {\n    switch (action.type) {\n        case START_LOADING: \n            return { ...state, isLoading: true }\n        case END_LOADING:\n            return { ...state, isLoading: false }\n        case FETCH_ALL:\n            return { \n                ...state, \n                posts: action?.playload?.data, \n                currentPage: action?.playload?.currentPage,\n                numberOfPages: action?.playload?.numberOfPages \n            }\n        case FETCH_POST:\n            return { ...state, post: action?.playload }\n        case FETCH_BY_SEARCH:\n            return {\n                ...state,\n                posts: action.playload\n            }\n            // return action.playload\n        case CREATE:\n            return { ...state, posts: [ ...state.posts, action.playload] }\n        case UPDATE:\n            return { ...state, posts: state.posts.map(post => post._id === action?.playload?._id ? action?.playload : post)}\n        case COMMENT: \n            return {\n                ...state,\n                posts: state.posts.map(post => {\n                    if(post._id === action.playload._id){\n                        return action.playload\n                    }\n                    return post\n                })\n            }\n        case DELETE:\n            return { ...state, posts: state.posts.filter(post => post._id !== action.playload)}\n        default:\n            return state\n    }\n}"],"mappings":"iVAAA,OAASA,MAAM,CAAEC,MAAM,CAAEC,SAAS,CAAEC,MAAM,CAAEC,eAAe,CAAEC,aAAa,CAAEC,WAAW,CAAEC,UAAU,CAAEC,OAAO,KAAQ,0BAA0B,CAE9I,eAAe,UAAoD,6DAAnDC,MAAK,2DAAG,CAAEC,SAAS,CAAE,IAAI,CAAEC,KAAK,CAAE,EAAG,CAAC,IAAEC,OAAM,2CAC1D,OAAQA,MAAM,CAACC,IAAI,EACf,IAAKR,cAAa,CACd,sCAAYI,KAAK,MAAEC,SAAS,CAAE,IAAI,GACtC,IAAKJ,YAAW,CACZ,sCAAYG,KAAK,MAAEC,SAAS,CAAE,KAAK,GACvC,IAAKR,UAAS,CACV,sCACOO,KAAK,MACRE,KAAK,CAAEC,MAAM,SAANA,MAAM,mCAANA,MAAM,CAAEE,QAAQ,2CAAhB,iBAAkBC,IAAI,CAC7BC,WAAW,CAAEJ,MAAM,SAANA,MAAM,oCAANA,MAAM,CAAEE,QAAQ,4CAAhB,kBAAkBE,WAAW,CAC1CC,aAAa,CAAEL,MAAM,SAANA,MAAM,oCAANA,MAAM,CAAEE,QAAQ,4CAAhB,kBAAkBG,aAAa,GAEtD,IAAKV,WAAU,CACX,sCAAYE,KAAK,MAAES,IAAI,CAAEN,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEE,QAAQ,GAC7C,IAAKV,gBAAe,CAChB,sCACOK,KAAK,MACRE,KAAK,CAAEC,MAAM,CAACE,QAAQ,GAE1B;AACJ,IAAKd,OAAM,CACP,sCAAYS,KAAK,MAAEE,KAAK,8BAAOF,KAAK,CAACE,KAAK,GAAEC,MAAM,CAACE,QAAQ,EAAC,GAChE,IAAKb,OAAM,CACP,sCAAYQ,KAAK,MAAEE,KAAK,CAAEF,KAAK,CAACE,KAAK,CAACQ,GAAG,CAAC,SAAAD,IAAI,8BAAIA,KAAI,CAACE,GAAG,IAAKR,MAAM,SAANA,MAAM,oCAANA,MAAM,CAAEE,QAAQ,4CAAhB,kBAAkBM,GAAG,EAAGR,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEE,QAAQ,CAAGI,IAAI,GAAC,GACnH,IAAKV,QAAO,CACR,sCACOC,KAAK,MACRE,KAAK,CAAEF,KAAK,CAACE,KAAK,CAACQ,GAAG,CAAC,SAAAD,IAAI,CAAI,CAC3B,GAAGA,IAAI,CAACE,GAAG,GAAKR,MAAM,CAACE,QAAQ,CAACM,GAAG,CAAC,CAChC,MAAOR,OAAM,CAACE,QAAQ,CAC1B,CACA,MAAOI,KAAI,CACf,CAAC,CAAC,GAEV,IAAKf,OAAM,CACP,sCAAYM,KAAK,MAAEE,KAAK,CAAEF,KAAK,CAACE,KAAK,CAACU,MAAM,CAAC,SAAAH,IAAI,QAAIA,KAAI,CAACE,GAAG,GAAKR,MAAM,CAACE,QAAQ,GAAC,GACtF,QACI,MAAOL,MAAK,EAExB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}